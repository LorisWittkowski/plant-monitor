/* public/assets/anim.css */

/* ---------- On-load Animations (ohne HTML-Änderungen) ---------- */
.topbar {
  /* leichtes Einblenden & Slide von oben */
  animation: topbar-in .45s cubic-bezier(.2,.7,.2,1) both;
}
@keyframes topbar-in {
  from { transform: translateY(-8px); opacity: 0; }
  to   { transform: translateY(0);     opacity: 1; }
}

.card {
  /* sanftes Hochkommen (Stagger per nth-child) */
  animation: card-in .5s .05s both cubic-bezier(.2,.7,.2,1);
}
.card:nth-of-type(2) { animation-delay: .12s }
.card:nth-of-type(3) { animation-delay: .18s }
@keyframes card-in {
  from { transform: translateY(8px); opacity: 0 }
  to   { transform: translateY(0);   opacity: 1 }
}

/* Sidebar */
.sidebar { will-change: transform; } /* smoother */
.sidebar.open { transition: transform .28s cubic-bezier(.2,.7,.2,1); }

/* ---------- Micro-Interactions ---------- */
/* Buttons: leichter Lift auf Hover, Tap-Feedback auf Active */
.btn { transition: transform .12s ease, box-shadow .18s ease; }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); filter: brightness(0.98); }

/* „Chip“-Buttons (tiny) etwas federnder */
.btn.tiny:hover { transform: translateY(-1px) scale(1.01); }
.btn.tiny:active { transform: translateY(0) scale(0.99); }

/* Segmented Range: aktiver Tab pulsiert kurz beim Wechsel (wenn aria-selected gesetzt wird) */
.btn.seg[aria-selected="true"] {
  animation: pulse-in .28s cubic-bezier(.2,.7,.2,1);
}
@keyframes pulse-in {
  from { transform: scale(.98) }
  60%  { transform: scale(1.02) }
  to   { transform: scale(1) }
}

/* Live-Balken: du hast schon width-Transition; hier ein subtiler Glow */
.fill {
  box-shadow: 0 0 0 rgba(0,0,0,0);
  transition: width .5s cubic-bezier(.2,.7,.2,1), box-shadow .5s ease;
}
.fill[style*="width"] { box-shadow: 0 0 10px color-mix(in oklab, var(--bar) 40%, transparent); }

/* Modal: smoother Auf/Zu (Dialog selbst kann kein enter/leave, aber Karte schon) */
.modal[open] .modal-card {
  animation: modal-in .26s cubic-bezier(.2,.7,.2,1) both;
}
@keyframes modal-in {
  from { transform: translateY(6px) scale(.99); opacity: 0 }
  to   { transform: translateY(0)   scale(1);    opacity: 1 }
}

/* --- Timestamp Ink Underline (smooth, dezent) --- */
#ts{
  position: relative;
  display: inline-block;
  color: var(--muted);
  will-change: transform, opacity;
}

/* minimaler „breathe“-Ease, damit es lebendig wirkt */
#ts.ts-anim{
  animation: ts-breathe .55s ease-out;
}

/* die Tintenlinie unter dem Text */
#ts::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:-3px;
  height:2px;
  border-radius:2px;
  background: color-mix(in oklab, var(--ok) 60%, transparent);
  transform: scaleX(0.0);
  transform-origin: 50% 50%;
  opacity:0;
  pointer-events:none;
}

/* beim Trigger breitet sie sich aus der Mitte aus und klinkt sich wieder aus */
#ts.ts-anim::after{
  animation: ts-ink .9s cubic-bezier(.2,.7,.2,1) forwards;
}

@keyframes ts-breathe{
  0%   { transform: translateY(.6px); }
  60%  { transform: translateY(0);   }
  100% { transform: translateY(0);   }
}

@keyframes ts-ink{
  0%   { opacity:.22; transform: scaleX(.05); }
  40%  { opacity:.35; transform: scaleX(1.04); }
  70%  { opacity:.18; transform: scaleX(.96); }
  100% { opacity:0;   transform: scaleX(.90); }
}
